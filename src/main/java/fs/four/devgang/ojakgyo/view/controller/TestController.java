package fs.four.devgang.ojakgyo.view.controller;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.CookieValue;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
@RequestMapping("/test")
public class TestController {
    private static final JSONParser jsonParser = new JSONParser();

    @GetMapping("/main")
    public ModelAndView mainResultTest(@CookieValue(value = "token", required = false) String token) throws ParseException {
        String myLocation = "충청남도 천안시 동남구 천안대로 215 (삼룡동)";
        String yourLocation ="부산광역시 해운대구 해운대해변로 30 (우동, 해운대엑소디움)";
        String categories = "숙박,커피,레저,TV맛집";
        String centerGeocode = "{\"x\":\"128.1387630\",\"y\":\"35.9891619\",\"city_do\":\"경상북도\",\"gu_gun\":\"김천시\"}";
        JSONObject centerGeocodeJson = (JSONObject) jsonParser.parse(centerGeocode);
        JSONArray jsonData = (JSONArray) jsonParser.parse(data);


        ModelAndView mv = new ModelAndView();
        mv.setViewName("main/result");

        mv.addObject("myLocation", myLocation);
        mv.addObject("yourLocation", yourLocation);
        mv.addObject("categories", categories);
        mv.addObject("centerGeocode", centerGeocodeJson);
        mv.addObject("poiData", jsonData);

        return mv;
    }

    private final String data = "[{\"lowerLegalCode\":\"400\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"3\",\"bldNo1\":\"496\",\"roadName\":\"금감로\",\"frontLon\":\"128.13773908\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"054-432-1239\",\"menu4\":\"\",\"id\":\"8780640\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"35.97501910\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"김천시\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"조마면\",\"name\":\"미영이네시골밥상 [한식]\",\"parkFlag\":\"\",\"scdName\":\"조마면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"400\",\"lowerCode\":\"\",\"lon\":\"128.13785018\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"35.97479690\",\"pkey\":\"878064001\",\"address\":\"경북 김천시 조마면 대방리\",\"middleAdminCode\":\"150\",\"bldAddr\":\"경북 김천시 조마면 금감로\",\"yaFlag\":\"\",\"secondNo\":\"1\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"1054\",\"dcdName\":\"대방리\",\"detailLegalCode\":\"27\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"150\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"400\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"\",\"bldNo1\":\"\",\"roadName\":\"\",\"frontLon\":\"128.13812795\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"054-435-8531\",\"menu4\":\"\",\"id\":\"1500610\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"35.97426919\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"김천시\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"\",\"name\":\"대방관광농원가든\",\"parkFlag\":\"\",\"scdName\":\"조마면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"400\",\"lowerCode\":\"\",\"lon\":\"128.13812795\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"35.97426919\",\"pkey\":\"150061001\",\"address\":\"경북 김천시 조마면 대방리\",\"middleAdminCode\":\"150\",\"bldAddr\":\"\",\"yaFlag\":\"\",\"secondNo\":\"1\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"1057\",\"dcdName\":\"대방리\",\"detailLegalCode\":\"27\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"150\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"370\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"8\",\"bldNo1\":\"210\",\"roadName\":\"봉학길\",\"frontLon\":\"128.17443046\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"\",\"menu4\":\"\",\"id\":\"2750437\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"35.96852050\",\"dbKind\":\"S\",\"bizCatName\":\"펜션\",\"reservYn\":\"\",\"mcdName\":\"성주군\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"벽진면\",\"name\":\"용소골펜션\",\"parkFlag\":\"\",\"scdName\":\"벽진면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"370\",\"lowerCode\":\"\",\"lon\":\"128.17445823\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"35.96835385\",\"pkey\":\"275043701\",\"address\":\"경북 성주군 벽진면 봉학리\",\"middleAdminCode\":\"840\",\"bldAddr\":\"경북 성주군 벽진면 봉학길\",\"yaFlag\":\"\",\"secondNo\":\"1\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"951\",\"dcdName\":\"봉학리\",\"detailLegalCode\":\"34\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"840\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"400\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"15\",\"bldNo1\":\"22\",\"roadName\":\"신왕5길\",\"frontLon\":\"128.13284920\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"054-431-1459\",\"menu4\":\"\",\"id\":\"1448792\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"36.02709643\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"김천시\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"조마면\",\"name\":\"남천고을 [한식]\",\"parkFlag\":\"\",\"scdName\":\"조마면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"400\",\"lowerCode\":\"\",\"lon\":\"128.13282141\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"36.02690200\",\"pkey\":\"144879201\",\"address\":\"경북 김천시 조마면 신왕리\",\"middleAdminCode\":\"150\",\"bldAddr\":\"경북 김천시 조마면 신왕5길\",\"yaFlag\":\"\",\"secondNo\":\"\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"757\",\"dcdName\":\"신왕리\",\"detailLegalCode\":\"26\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"150\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"400\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"6\",\"bldNo1\":\"1084\",\"roadName\":\"조마로\",\"frontLon\":\"128.09460312\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"054-437-7473\",\"menu4\":\"\",\"id\":\"4716795\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"36.00732020\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"김천시\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"조마면\",\"name\":\"신곡신선대황토방식당\",\"parkFlag\":\"\",\"scdName\":\"조마면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"400\",\"lowerCode\":\"\",\"lon\":\"128.09468645\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"36.00737575\",\"pkey\":\"471679501\",\"address\":\"경북 김천시 조마면 신곡리\",\"middleAdminCode\":\"150\",\"bldAddr\":\"경북 김천시 조마면 조마로\",\"yaFlag\":\"\",\"secondNo\":\"\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"534\",\"dcdName\":\"신곡리\",\"detailLegalCode\":\"24\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"150\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"355\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"\",\"bldNo1\":\"57\",\"roadName\":\"금감로\",\"frontLon\":\"128.14279514\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"054-931-1576\",\"menu4\":\"\",\"id\":\"2397734\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"35.94052310\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"성주군\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"금수강산면\",\"name\":\"송정식당\",\"parkFlag\":\"\",\"scdName\":\"금수강산면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"355\",\"lowerCode\":\"\",\"lon\":\"128.14276736\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"35.94038423\",\"pkey\":\"239773401\",\"address\":\"경북 성주군 금수강산면 후평리\",\"middleAdminCode\":\"840\",\"bldAddr\":\"경북 성주군 금수강산면 금감로\",\"yaFlag\":\"\",\"secondNo\":\"2\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"1030\",\"dcdName\":\"후평리\",\"detailLegalCode\":\"24\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"840\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"355\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"\",\"bldNo1\":\"1\",\"roadName\":\"황산길\",\"frontLon\":\"128.15646057\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"\",\"menu5\":\"\",\"tel\":\"\",\"menu4\":\"\",\"id\":\"4658876\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"35.94143991\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"성주군\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"금수강산면\",\"name\":\"산마을\",\"parkFlag\":\"\",\"scdName\":\"금수강산면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"355\",\"lowerCode\":\"\",\"lon\":\"128.15640502\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"35.94132882\",\"pkey\":\"465887601\",\"address\":\"경북 성주군 금수강산면 후평리\",\"middleAdminCode\":\"840\",\"bldAddr\":\"경북 성주군 금수강산면 황산길\",\"yaFlag\":\"\",\"secondNo\":\"1\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"347\",\"dcdName\":\"후평리\",\"detailLegalCode\":\"24\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"840\",\"facility\":\"\",\"navSeq\":\"1\"},{\"lowerLegalCode\":\"355\",\"zipCode\":\"\",\"payYn\":\"\",\"fee\":\"\",\"bldNo2\":\"\",\"bldNo1\":\"1\",\"roadName\":\"황산길\",\"frontLon\":\"128.15648834\",\"participant\":\"\",\"mngId\":\"\",\"middleCode\":\"\",\"additionalInfo\":\"[영업시간]월 11:00~16:00;화 11:00~18:00;수 11:00~16:00;목 11:00~18:00;금 11:00~16:00;토 11:00~18:00;\",\"menu5\":\"\",\"tel\":\"054-932-3111\",\"menu4\":\"\",\"id\":\"6809796\",\"menu3\":\"\",\"menu2\":\"\",\"menu1\":\"\",\"mngName\":\"\",\"lat\":\"35.94141214\",\"dbKind\":\"S\",\"bizCatName\":\"한식\",\"reservYn\":\"\",\"mcdName\":\"성주군\",\"freeYn\":\"\",\"merchantDispType\":\"\",\"mlClass\":\"1\",\"merchantFlag\":\"\",\"twFlag\":\"0\",\"roadScdName\":\"금수강산면\",\"name\":\"행복한식당\",\"parkFlag\":\"\",\"scdName\":\"금수강산면\",\"evChargers\":[],\"desc\":\"\",\"lowerAdminCode\":\"355\",\"lowerCode\":\"\",\"lon\":\"128.15643279\",\"lcdName\":\"경북\",\"point\":\"\",\"totalCnt\":\"0\",\"upperAdminCode\":\"47\",\"useTime\":\"\",\"frontLat\":\"35.94130104\",\"pkey\":\"680979601\",\"address\":\"경북 성주군 금수강산면 후평리\",\"middleAdminCode\":\"840\",\"bldAddr\":\"경북 성주군 금수강산면 황산길\",\"yaFlag\":\"\",\"secondNo\":\"1\",\"upperCode\":\"\",\"updateDt\":\"\",\"routeInfo\":\"\",\"viewId\":\"\",\"homepageURL\":\"\",\"firstNo\":\"347\",\"dcdName\":\"후평리\",\"detailLegalCode\":\"24\",\"upperLegalCode\":\"47\",\"middleLegalCode\":\"840\",\"facility\":\"\",\"navSeq\":\"1\"}]";
}
