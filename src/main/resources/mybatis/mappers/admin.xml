<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="fs.four.devgang.ojakgyo.admin.repository.AdminDAO">

    <select id="selectAllUserList" resultType="adminVO">
        <![CDATA[
            select * from OJAKGYO.USER_INFO order by user_reg_date desc
        ]]>
    </select>

    <select id="searchUsers" parameterType="map" resultType="adminVO">
        SELECT *
        FROM OJAKGYO.USER_INFO
        WHERE
        <choose>
            <when test="category == 'id'">
                user_id LIKE '%' || #{keyword} || '%'
            </when>
            <when test="category == 'nickname'">
                user_nickname LIKE '%' || #{keyword} || '%'
            </when>
            <when test="category == 'email'">
                user_email LIKE '%' || #{keyword} || '%'
            </when>
        </choose>
        ORDER BY user_reg_date DESC
    </select>


</mapper>